# Single Page Application

Single Page Application, 단일 페이지 어플리케이션에 관하여 알아 보고자 한다. 

## 과거의 웹 사이트

전통적인 웹 사이튼는 지금보다 문서 하나에 전달되는 파일의 용량이 적었다. 그래서 어떤 요소를 한번 클릭하면 완전히 새로운 페이지를 서버에서 전송해줬다(SSR). 그래도 상관 없었다. 그러나 현대에  이르자 점차 웹 사이트가 고도화됨에 따라 한 페이지에 해당하는 페이지 용량이 커져갔고 매번 새로운 페이지를 전달하는게 점점 버거워지게 되었다.

> 과거에 비해 크게 증가한 웹사이트의 용량을 처리(?) 할 방법이 필요했다.

## 그래서 SPA...?

이러한 문제를 해결하기 위해 등장한 것이 SPA다. 이름에서도 알 수 있듯이, 웹 사이트의 전체 페이지를 하나의 페이지에 담아 동적으로 화면을 바꿔가며 표현하는 것이 SPA다. 어떤 이벤트가 발생하면 상호작용하기 위한 최소한의 요소만 변경이 일어난다.

> 페이지 변경이 일어난다고 보여지는 것 또한 이미 로드된 자바스크립트를 통해 미리 브라우저에 올라간 템플릿만 교체되는것이다.

아래는 기존의 방식과 현제 방식의 차이를 보여주는 그림이다.

![best-single-page-applications.jpg](C:\Users\audtj\Desktop\best-single-page-applications.jpg)

출처 : https://www.excellentwebworld.com/what-is-a-single-page-application/

왼쪽은 사용자의 요청에 따라 서버에서 파일을 보내주는 SSR, Server Side Rendering 이다. 그리고 오른쪽은 처음 요청으로 서버에서 모든 파일들이 로드되고 필요한 데이터는 AJAX라는 요청으로 JSON으로 받게된다.

위 그림을 바탕으로 장점과 단점을 알아보면 다음과 같다.

- 장점
  
  - 하나하나 화면 전체를 렌더링할 필요가 없기 때문에 화면이동이 빠르다.
  
  - 화면에 필요한 부분의 데이터만 받아서 렌더링 하기 때문에 전체적인 트래픽 감소와 렌더링에서 좋은 효율을 가진다. 즉 처리과정이 효율적이다.
  
  - 모듈화 또는 컴포넌트별 개발이 용이하다.
  
  - 자연스러운 사용자 경험 (UX) (화면 깜빡거림, 등...)

- 단점
  
  - 처음 화면을 로딩할 때 모든 화면(파일?)들이 준비 되어야 하기 때문에 로딩에 시간이 걸린다.
  
  - SPA 구조 상 데이터 처리를 클라이언트에서 하는 경우가 많은데, 해당 로직들은 JS를 통해 구현되므로 코드가 외부에 노출되는 보안적인 문제가 있다.
  
  - 검색엔진 최적화(SEO)가 어렵다.

> SEO란 쉽게 얘기해서 네이버, 구글에 검색했을 때 우리 웹사이트가 잘 나오게 하는 것을 검색엔진 최적화라고한다. 검색엔진은 사이트의 웹문서 파일(HTML)을 읽는데 이런 과정에서 하나의 HTML로 이루어진 SPA는 검색봇이 읽을 수 있는 페이지수가 현저히 떨어진다.
> 
> 이것을 해결하기 위한 여러가지 방법이 존재하는거 같지만 여기서 다루지는 않겠다.

## SPA 라우팅

기존 웹 사이트와 마찬가지로 우리는 여러 페이지들을 사용자에게 보여줘야한다. 그러기 위해선 라우팅이라는 것을 구현해야하는데 라우팅은 쉽게 얘기해서 어떤 화면에서 다른화면으로 환면을 전환하는 네비게이션을 관리하기 위한 기능이라고한다.

SPA에서는 이것을 구현하기 위해 2가지의 방법이 있다.

- HTML5, History API, BrowserHistory
  
  - `history.pushState` API를 활용하여 페이지를 다시 로드하지 않고 URL을 탐색 할 수 있다.

- HASH, Hash History
  
  - url 해쉬를 사용하여 전체 url을 시뮬레이트하게되며, url이 변경될 때 페이지가 다시 로드되지 않는다. 보통 url에 `#`이 붙는다.

> 이 문서에서는 간단하게 2가지가 있다는 것 정도만 알고 넘어가자. 다른 방법들도 존재할 수 있다.



## Component

컴포넌트란 독립적인 단위모듈이다.  소프트웨어 시스템에서 독립적인 업무 또는 독립적인 기능을 수행한다. 이후 시스템을 유지보수 하는데 있어 교체 가능한 부품이다.



> 리액트에서의 컴포넌트는 **앱을 이루는 최소한의 단위**이다. 이런 컴포넌트들이 모여서 하나의 앱이된다.



![](C:\Users\audtj\Desktop\0517_img01.webp)

그림에서 확인할 수 있듯이 컴포넌트 기반 프로그래밍을 하면 마치 레고의 블록처럼 이미 만들어진 컴포넌트들를 조합하여 화면을 구성할 수 있다.
